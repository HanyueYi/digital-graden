---
{"dg-publish":true,"permalink":"/MATH/抽象代数III/Nodes/8 250415 1/","dgPassFrontmatter":true}
---


If $(e_i)_{1\leqslant i\leqslant r}$ is an $F$-basis of $V$ and $(I_i)_{1\leqslant i\leqslant r}$ is a family of fractional ideals, then $M=\oplus _{i=1}^r I_i e_i$ is a fractional module in $V$. 

> [!lemma]
> Let $I_1,I_2$ be fractional ideals. 
> - $I_1+I_2$, which is the $R$-submodule of $F$ generated by $I_1\cup I_2$
> - $I_1\cap I_2$
> - $I_1I_2$, which is the $R$-submodule of $F$ generated by all $x_1x_2$ with $x_1\in I_1$, $x_2\in I_2$
> 
> are all fractional ideals. 


> [!proposition]
> - For any fractional ideal $I$, there is a natural identification $I^*=\{x\in F:xI\subseteq R\}$. 
> - Let $V$ be an $r$-dimensional $F$-space with a basis $(e_i)_{1\leqslant i\leqslant r}$, and let $(I_i)_{1\leqslant i\leqslant r}$ be a family of fractional ideals. Set $M=\oplus_{i=1}^r I_ie_i$. Then 
>     - $M^*=\oplus_{i=1}^r I_i^* e_i^*$, where $e_i^*\in V^*$.
>     - the fractional module $M$ is a finitely generated projective $R$-module iff for all $1\leqslant i\leqslant r$, we have $I_i^* I_i=R$. In particular, a fractional ideal $I$ is finitely generated projective $R$-module iff $I^* I=R$. 

**_Proof._**
i) Let $0\neq \lambda\in R$ such that $\lambda I\subseteq R$. Let $\varphi\in \mathrm{Hom}_R(I,R)=I^*$. For $x,y\in I$ and 

$$\varphi(\lambda xy)=\lambda\varphi(xy)=\lambda x\varphi(y)=\lambda y\varphi(x).$$

Since $R$ is an integral domain, one have 

$$\varphi(xy)=x\varphi(y)=y\varphi(x).$$

If $x,y\neq 0$, there is $y^{-1}\varphi(y)=x^{-1}\varphi(x)$. So we can define $h_\varphi\in F$ by $h_\varphi=x^{-1}\varphi(x)$ for any $x\in I\setminus \{0\}$. For any $i\in I$, $h_\varphi$ can be written as $h_\varphi=i^{-1}\varphi(i)$ and so $h_\varphi i=\varphi(i)\in R$. We can check the map $\varphi\mapsto h_\varphi$ is an isomorphism, that is, $\mathrm{Hom}_R(I,R)\mapsto I^*=\{x\in F:xI\subseteq R\}$. Moreover, $I^*$ is a fractional ideal.

ii) a) is easy. 

ii) b) It suffices to show, a fractional ideal $I$ is finitely generated iff $I^*I=R$. [[MATH/抽象代数III/Nodes/Projective Morphism#^joizl5\|Recall]] that $I$ is a finitely generated projective module iff $\mathrm{id}\in \tau_{I,I}$, i.e., there exists $\sum_i b_i\otimes a_i\in I^*\otimes_R I$ such that for any $x\in I$, $\sum_i xb_ia_i=x$, i.e. $\sum_i b_ia_i=1$ iff $I^* I=R$. 
<p align="left">□</p>


> [!definition] 
> A *Dedekind Domain* is a integral domain $R$ all ideals of which are finitely generated projective. 
> 
> A principal ideal domain is a integral domain $R$ all ideals of which are free. 

**Remark.** 好像另一种定义是一维整闭诺特环。后面在证明这件事。

# Local Ring

> [!definition] 
> We say a ring $R$ (possibly non-commutative) is local if the set of non-units of $R$ form an ideal of $R$. 

> [!theorem]
> TFAE for a ring $R$. 
> - $R$ is a local ring
> - the set of nonunits of $R$ coincides with $J(R)$, that is, $J(R)$ is a unique maximal left (or right) ideal of $R$
> - $R/J(R)$ is a division ring. 

**_Proof._**
- [ ] 懒得写了。交给你了deepseek！
<p align="left">□</p>


> [!proposition]
> Let $R$ be a commutative ring. Assume $R$ is local with unique maximal ideal $I$. Then every finitely generated projective $R$-module is free. 

**_Proof._**
Let $X$ be a finitely generated projective $R$-module. Then the module $X/IX$ is a finite-dimensional $(R/I)$-vector space with dimension $r$. The isomorphism $(R/I)^r\stackrel{\sim}{\to} X/IX$ can be lifted to an $R$-morphism $\varphi: R^r\to X$.  

Note that $\varphi$ is an epimorphism iff $\varphi(R^r)+IX=X$ by Nakayama lemma.

Since

$$0\to X'\to R^r\to X\to 0$$

is exact and $R^r$ is projective, one have $X'$ is a direct summand of $R^r$ and so it is finitely generated. Since $R^r\simeq X'\oplus X$, there is $(R/I)^r\simeq (X'/IX')\oplus (X/IX)$. So $X'/IX'=0$ and then $X'=0$. Hence $X=R^r$ is free. 
<p align="left">□</p>


> [!corollary]
> Local Dedekind domain = Local PID

> [!proposition]
> Let $R$ be an integral domain. Let $S$ be a nonempty multiplicatively closed subset of $R\setminus\{0\}$. 
> - If $R$ is a PID, so is $S^{-1}R$. 
> - If $R$ is a Dedekind domain, so is $S^{-1}R$. 

**_Proof._**
- [ ] exercise.
<p align="left">□</p>


# Invertible ideals

> [!definition]
> A finitely generated fractional ideal is called invertible. 

> [!lemma]
> An integral domain $R$ is a Dedekind domain iff all fractional ideals are invertible. 

**_Proof._**
"->" Assume that $R$ is a Dedekind domain. Given a fractional ideal $I$, if $\lambda I\subseteq R$ with $\lambda\neq 0$, the map $I\to \lambda I,a\mapsto \lambda a$ is an isomorphism of $R$-module and $\lambda I$ is an ideal of $R$.   
??  
<p align="left">□</p>

For Dedekind domain, the dual $I^*$ of a fractional ideal $I$ is denoted by $I^{-1}$. 

> [!lemma]
> The set of fractional ideals of a Dedekind domain $R$ is an abelian group. The identity element is $R$, the inverse of a fractional ideal $I$ is $I^{-1}$. 

> [!definition]
> A fractional ideal $I$ of $R$ is called *integral ideal* if $I\subseteq R$. 
> 
> Let $I$ and $J$ be fractional ideal of $R$, we say $J$ divides $I$, that is, $J\mid I$, if there is an integral ideal such that $I=JK$. 

> [!lemma]
> Let $I$ be fractional ideals in a Dedekind domain $R$. TFAE:
> - $I\subseteq J$;
> - $J\mid I$.
{ #8e8e1e}


**_Proof._**
ii)->i) is easy. 

i)->ii). Let $K=J^{-1}I$. Then $I=JK$. Note that $J^{-1}I\subseteq J^{-1}J=R$ and so $J^{-1}I=K$ is an integral ideal. 
<p align="left">□</p>


> [!corollary]
> Every nonzero prime ideal of a Dedekind domain $R$ is maximal. 
{ #ib3ruw}


**_Proof._**
Assume that $p$ is a nonzero prime ideal and $P\subseteq I$ for some ideal $I$ of $R$. We aim to show $I=p$ or $I=R$. By [[MATH/抽象代数III/Nodes/8 250415 1#^8e8e1e\|#^8e8e1e]], there exists an ideal $I'$ such that $p=I'I$. Since $p$ is prime, one have either $I\subseteq p$ or $I'\subseteq p$.

- [ ] exercise: Since $p$ is prime, one have either $I\subseteq p$ or $I'\subseteq p$.

If $I\subseteq p$, we have done. If $I'\subseteq p$, then $p=pI$ and $I=R$. 
<p align="left">□</p>


> [!corollary] 
> A Dedekind domain in integral closed. 

**_Proof._**
Let $R$ be a Dedekind ring, and let $F$ be the fraction field of $R$. Let $x\in F$ be integral over $R$, i.e., $x^n+a_{n-1}x^{n-1}+\cdots+a_0=0$. Then $x$ belongs to the fractional ideal $I$ generated by $1,x,\cdots,x^{n-1}$. We can check $I^2=I$. So $I=I^2\cdot I^{-1}=II^{-1}=R$ and so $x\in R$. 
<p align="left">□</p>


> [!theorem]
> Let $R$ be a Dedekind domain. Every nonzero proper ideal of $R$ can be written in a unique way as a product of prime ideals. 

**_Proof._**
**Step 1.** Prove any proper ideal is a product of prime ideals. 

If not, then there exists an ideal $I$ which is maximal among proper ideals which are not product of prime ideals. In particular, $I$ is not prime and so not maximal. So there exists a maximal ideal $J$ such that $I\subsetneq J\subsetneq R$. By [[MATH/抽象代数III/Nodes/8 250415 1#^8e8e1e\|#^8e8e1e]], $I=JK$ for some ideal $K$ of $R$. 

Note that $I\neq K$, otherwise $J=R$. Hence $I\subsetneq K\subsetneq R$. By maximality of $I$, $J$ and $K$ are products of prime ideals. So $I$ can be written as a product of prime ideal, which is a contradiction. 

**Step 2.** Uniqueness.

Assume that $I=p_1\cdots p_m=q_1\cdots q_n$ where $p_i$, $q_j$ are prime ideals. We do induction on $m$. Note that $q_1\cdots q_n\subseteq p_1$. Since $p_1$ is prime, there exists $j$ such that $q_j\subseteq p_1$. (exercise above) WLOG $j=1$ and $q_1\subseteq p_1$. By [[MATH/抽象代数III/Nodes/8 250415 1#^ib3ruw\|#^ib3ruw]], $p_1=q_j$ and then $p_2\cdots p_m=q_2\cdots q_n$. Apply inductive hypothesis and we finish the proof.
<p align="left">□</p>


> [!lemma]
> Let $R$ be a Dedekind domain. For any fractional ideal $I$, there exists integral ideals $J$ and $K$ such that $I=JK^{-1}$. 

**_Proof._**
- [ ] exercise
<p align="left">□</p>

> [!definition]
> For every fractional ideal $I$, we write $I=\prod_{p}p^{\nu_p(I)}$ with $\nu_p(I)\in \mathbb{Z}$ and $p$ runs over all prime ideals. We call $\nu_p(I)$ the *valuation* of $I$ at $p$. 

# Discrete Valuation

> [!definition]
> Let $k$ be a field. An (exponential) valuation of $k$ is a real-valued function $\nu$ defined on $k^*=k\setminus\{0\}$ satisfying
> - $\nu(ab)=\nu(a)+\nu(b)$ and
> - $\nu(a+b)\geqslant \min\{\nu(a),\nu(b)\}$.
> 
> Note that $\nu:K^\times\to (R,+)$ is a group homomorphism. The image $\nu(k^\times)$ is called the value group of $\nu$, and we set $\nu(0)=\infty$. We call $(k,\nu)$ valuation field. 

**Facts.** 
- $\nu(1)=\nu(-1)=0$, $\nu(a)=\nu(-a)$, $\nu(a^{-1})=-\nu(a)$
- $\nu(a)>\nu(b)$ yields $\nu(a+b)=\nu(b)$
	- [ ] exercise

> [!definition]
> Let $(k,\nu)$ be a valuation field. Then $R=\{a\in k:\nu(a)\geqslant 0\}$ is a subring of $k$, which is called *valuation ring* of $\nu$. 
> 
> Let $R^{-1}=\{a^{-1}:a\in R\setminus\{0\}\}=\{a\in k:\nu(a)<0\}$. Then $k=R\cup R^{-1}$ and so $k$ is a fractional field of $R$.
> 
> The set $P=\{a\in l:\nu(a)>0\}$ is an ideal of $R$, which is called the *valuation ideal* of $\nu$. 
> 
> The group of units of $R$ is $\{a\in k:\nu(a)=0\}$. 
> 
> Note that $R$ is a local ring with $P=J(R)=\{\text{nonunits of }R\}$, and $R/P$ is called *residue field* of $\nu$. 

Let $\lambda\in R$ with $\lambda >0$. Define $\nu'(a)=\lambda\nu(a)$ for all $a\in k^\times$. Then $\nu$ is also a valuation. We say $\nu$ is equivalent to $\nu'$, and write $\nu\sim \nu'$. 

> [!definition]
> A valuation $\nu$ of $k$ is called *discrete* if its value group if isomorphic to $\mathbb{Z}$. In this situation, $R$ is called a *discrete valuation ring*. 
> 
> In the case $\nu(k^\times)=\mathbb{Z}$, $\nu$ is said to be *normalized*. 


> [!theorem]
> Let $(k,\nu)$ be a discrete normalized valuation field. Let $R$ be its valuation ring, and let $P$ be its valuation ideal. 
> - Let $\pi\in R$ with $\nu(\pi)=1$. Then any $\alpha\in k$ is expressed as $\alpha=\pi^i u$ where $i=\nu(\alpha)$, $u\in R\setminus P$. 
> - Any nonzero ideal of $R$ is of the form $p^i=(\pi^i)$ for some $i\geqslant 0$. In particular, $R$ is a $PID$. 
> - $R$ is integral closed.
{ #bb0319}


**_Proof._**
i) For $\alpha\in k$ with $\nu(\alpha)=i$, we have $\nu(\alpha \pi^{-i})=0$ and $\alpha\pi^{-i}\in R\setminus P$. 

ii) Let $I$ be a nonzero ideal of $R$. Let $i=\min\{\nu(a):a\in I\}$. Then $\pi^i=a u^{-1}\in I$. Let $0\neq a\in I$ with $\nu(a)=j\geqslant i$. Then $a=\pi^j u=\pi^i(\pi^{j-i}u)\in (\pi^i)$. So $I=(\pi^i)$. In particular, $P=(\pi)$ and $I=P^i$.

iii) have done?
<p align="left">□</p>


> [!corollary]
> Two discrete valuations $\nu$ and $\nu'$ of $k$ are equivalent iff they have the same valuation ideal.

**_Proof._**
Suppose that $\nu$ and $\nu'$ have the same valuation ideal, say $P$. Then $R=k\setminus P^{-1}$ is the valuation ring, where $P^{-1}=\{x^{-1}:x\in P\setminus \set0\}$. Suppose $\nu$ and $\nu'$ are normalized. They have the same value in $R$ and so in $k$ by [[MATH/抽象代数III/Nodes/8 250415 1#^bb0319\|#^bb0319]]. 
<p align="left">□</p>


> [!theorem]
> Discrete valuation ring is a local PID. 

**_Proof._**
"<-" Let $R$ be a local PID. Let $P=J(R)=(\pi)$. We claim that $\cap_{i=1}^\infty P^i=0$. If $0\neq a\in\cap_{i=1}^\infty$, then $a=\pi a_1=\pi^2 a_2=\cdots$ with $a_i\in R$. It deduces that $a_i=\pi a_{i+1}$ and so we get a ascending series $(a_1)\subsetneq (a_2)\subsetneq \cdots$ Since $R$ is PID, the series terminate, leading to a contradiction. 

For any $0\neq a\in R$, there exists $i\in \mathbb{N}_+$ such that $a\in P^i$ and $a\notin P^{i+1}$. Thus $a=\pi^i u$ for some $u\in R\setminus P$.  Let $k$ be the fractional field of $R$. Define $\nu(a/b)=\nu(a)-\nu(b)$ and $\nu$ is a discrete valuation. 

"->" By [[MATH/抽象代数III/Nodes/8 250415 1#^bb0319\|#^bb0319]].
<p align="left">□</p>


